
=======
клиент:
житель Ноттингема, который тащит бочку
это процесс

- житель (процесс) сам решает когда он в течении дня понесет бочку
 (сначала спит, потом несет, потом снова спит)
 (масштаб 1 час = 0,1 сек программы)
- выбор времени (сколько м-сек спать): рандом(0-24 000 мсек)
- понес...принес
-- говорит серверу - я принес бочку (шлет сообщение в сокет)
 (сервер внутри увеличивает счетчике бочек и отдает в ответ в сокет новое кол-во бочек)
-- житель узнает кол-во бочек, если бочек > 5 то "колокол" - setEvent("bell")
- вернулся, досыпает до конца суток (24 000 - сколько ранее спал)
.. цикл 5 раз повторяем ^^^ и завершаемся

=======
сервер: 
основной поток:
- создает сокет
- принимает запрос 
- если запрос = (new barrel) то увеличивает колво бочек
  (если запрос другой то ничего не делает)

вспомогательные потоки: робин и товарищи 
- при старте сервера запускается 1 поток (Робин)
- поток ждет евента (белл)
- когда евент сработал (колокол позвонил) - робин идет к дубу какоето время (слип Х мсек)
-- забирает бочку (блокирует внутр перем сервера, уменьшает ее и разблокирует)
-- и запоминает сколько бочек осталось 
-- несет бочку домой (еще слип Х мсек)
-- если бочек все равно осталось больше 5, то зовет друзей 
  (порождает еще 2 потока, таких же как он, только с флагом "друг" - чтоб они сами не звали друзей)
-- решает надо ли идти еще раз
   -- помнит сколько бочек осталось, и привлекал ли он друзей
   -- если бочек >= чем колво ходящих (он сам и друзья) - то надо снова идти
   -- если бочек меньше то надо снова ждать колокола (события)

- особенности потока-друга
   (такой же как и Робин но с ограничениями)
-- умирает сам после окончания выполнения
-- знает сколько всего ходящих (общая переменная на сервере)
-- сам порождать потоки не может

=======
управляющая программа
- запускает сервер (1 шт)
- запускает клиентов (Х штук, задается при старте)

